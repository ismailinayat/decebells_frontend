{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\decebells from scratch\\\\frontend\\\\pages\\\\login.js\";\nimport useInputState from '../hooks/useInputState.js';\nimport { HiOutlineUser } from 'react-icons/hi';\nimport { AiTwotoneUnlock } from 'react-icons/Ai';\nimport { toast, ToastContainer } from 'react-toastify';\nimport axios from 'axios';\nimport { useMutation } from 'react-query';\n\nfunction LoginForm() {\n  const [email, updateEmail] = useInputState('');\n  const [password, updatePassword] = useInputState(''); //console.log(user);\n\n  const login = async e => {\n    try {\n      const res = await axios.post('http://localhost:3000/api/v1/users/login', {\n        email: e.target.email.value,\n        password: e.target.password.value\n      });\n      toast.success(`Welcome ${res.data.data.user.name}`);\n      return res.data.data;\n    } catch (err) {\n      toast.error(err.response.data.message);\n    }\n\n    ;\n  };\n\n  const mutation = useMutation(e => {\n    return login(e);\n  });\n  console.log(mutation.data);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    mutation.mutate(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Hello\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this)\n  /*\r\n  <div className='form__screen'>\r\n  <>\r\n  <ToastContainer>\r\n  </ToastContainer>\r\n  </>\r\n  <div className='form__container'>\r\n  <h2 className='form__title'>Login</h2>\r\n  <form className='form' onSubmit={handleSubmit}>\r\n  <div className='form__input-container'>\r\n  <HiOutlineUser className='form__icon' size='1.5rem'/>\r\n  <input className='form__input' name='email' type=\"email\" value={email} placeholder='Enter your email' onChange={updateEmail}/>\r\n  <label className='form__label' htmlFor=\"email\">email</label>\r\n  </div>\r\n  <div className='form__input-container'>\r\n  <AiTwotoneUnlock className='form__icon' size='1.5rem'/>\r\n  <input className='form__input' name='password' type=\"password\" value={password} placeholder='Enter your password' onChange={updatePassword}/>\r\n  <label className='form__label' htmlFor=\"password\">password</label>\r\n  </div>\r\n  <button type='Submit' className='form__button'> Login </button>\r\n  </form>\r\n  </div>\r\n  </div>\r\n  */\n  ;\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/decebells from scratch/frontend/pages/login.js"],"names":["useInputState","HiOutlineUser","AiTwotoneUnlock","toast","ToastContainer","axios","useMutation","LoginForm","email","updateEmail","password","updatePassword","login","e","res","post","target","value","success","data","user","name","err","error","response","message","mutation","console","log","handleSubmit","preventDefault","mutate"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,2BAA1B;AACA,SAAQC,aAAR,QAA4B,gBAA5B;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,gBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;;AAGA,SAASC,SAAT,GAAsB;AAGpB,QAAM,CAACC,KAAD,EAAQC,WAAR,IAAuBT,aAAa,CAAC,EAAD,CAA1C;AACA,QAAM,CAACU,QAAD,EAAWC,cAAX,IAA6BX,aAAa,CAAC,EAAD,CAAhD,CAJoB,CAOpB;;AACA,QAAMY,KAAK,GAAG,MAAOC,CAAP,IAAa;AACzB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAW,0CAAX,EACpB;AAACP,QAAAA,KAAK,EAAEK,CAAC,CAACG,MAAF,CAASR,KAAT,CAAeS,KAAvB;AAA8BP,QAAAA,QAAQ,EAAEG,CAAC,CAACG,MAAF,CAASN,QAAT,CAAkBO;AAA1D,OADoB,CAAlB;AAEFd,MAAAA,KAAK,CAACe,OAAN,CAAe,WAAUJ,GAAG,CAACK,IAAJ,CAASA,IAAT,CAAcC,IAAd,CAAmBC,IAAK,EAAjD;AACA,aAAOP,GAAG,CAACK,IAAJ,CAASA,IAAhB;AACC,KALD,CAKE,OAAMG,GAAN,EAAW;AAACnB,MAAAA,KAAK,CAACoB,KAAN,CAAYD,GAAG,CAACE,QAAJ,CAAaL,IAAb,CAAkBM,OAA9B;AAAuC;;AAAA;AAGtD,GATD;;AAUA,QAAMC,QAAQ,GAAGpB,WAAW,CAACO,CAAC,IAAI;AAChC,WAAOD,KAAK,CAACC,CAAD,CAAZ;AACD,GAF2B,CAA5B;AAIAc,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACP,IAArB;;AAEA,QAAMU,YAAY,GAAIhB,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACiB,cAAF;AACAJ,IAAAA,QAAQ,CAACK,MAAT,CAAgBlB,CAAhB;AACD,GAHD;;AAKA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAc;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBE;AA0BD;;AAED,eAAeN,SAAf","sourcesContent":["import useInputState from '../hooks/useInputState.js';\r\nimport {HiOutlineUser} from 'react-icons/hi';\r\nimport {AiTwotoneUnlock} from 'react-icons/Ai';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport {useMutation} from 'react-query';\r\n\r\n\r\nfunction LoginForm () {\r\n  \r\n  \r\n  const [email, updateEmail] = useInputState('');\r\n  const [password, updatePassword] = useInputState('');\r\n  \r\n\r\n  //console.log(user);\r\n  const login = async (e) => {\r\n    try {\r\n      const res = await axios.post('http://localhost:3000/api/v1/users/login', \r\n    {email: e.target.email.value, password: e.target.password.value})\r\n    toast.success(`Welcome ${res.data.data.user.name}`)\r\n    return res.data.data\r\n    } catch(err) {toast.error(err.response.data.message)};\r\n    \r\n\r\n  }\r\n  const mutation = useMutation(e => {\r\n    return login(e);\r\n  })\r\n\r\n  console.log(mutation.data)\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    mutation.mutate(e)\r\n  }\r\n\r\n  return(<h1>Hello</h1>/*\r\n    <div className='form__screen'>\r\n      <>\r\n      <ToastContainer>\r\n\r\n      </ToastContainer>\r\n      </>\r\n      <div className='form__container'>\r\n        <h2 className='form__title'>Login</h2>\r\n        <form className='form' onSubmit={handleSubmit}>\r\n          <div className='form__input-container'>\r\n            <HiOutlineUser className='form__icon' size='1.5rem'/>\r\n            <input className='form__input' name='email' type=\"email\" value={email} placeholder='Enter your email' onChange={updateEmail}/>\r\n            <label className='form__label' htmlFor=\"email\">email</label>\r\n          </div>\r\n          <div className='form__input-container'>\r\n            <AiTwotoneUnlock className='form__icon' size='1.5rem'/>\r\n            <input className='form__input' name='password' type=\"password\" value={password} placeholder='Enter your password' onChange={updatePassword}/>\r\n            <label className='form__label' htmlFor=\"password\">password</label>\r\n          </div>\r\n          <button type='Submit' className='form__button'> Login </button>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  */)\r\n}\r\n\r\nexport default LoginForm;\r\n"]},"metadata":{},"sourceType":"module"}